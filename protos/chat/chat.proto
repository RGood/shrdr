syntax = "proto3";

package chat;

option go_package = "github.com/RGood/shrdr/common/pkg/generated/chat;chat";

import "identity/identity.proto";

message ChatMessage {
    oneof target {
        string room_id = 1;
        string user_id = 2;
    }
    identity.User author = 3;
    string content = 4;
    int64 timestamp = 5;
}

service Chat {
    rpc JoinRoom(stream ChatMessage) returns (stream ChatMessage);
}
